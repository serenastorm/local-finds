"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var jsWeekDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],orderedWeekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],today=new Date,todaysWeekDayIndex=today.getDay(),todaysWeekDay=jsWeekDays[todaysWeekDayIndex];function renderLocationStatus(e){var a,t,n,o=e.locationName,s=e.hours,r=document.querySelectorAll(".status.opening-soon[data-location='".concat(o,"']")),i=document.querySelectorAll(".status.closing-soon[data-location='".concat(o,"']")),d=document.querySelectorAll(".status.open[data-location='".concat(o,"']")),u=document.querySelectorAll(".status.closed[data-location='".concat(o,"']"));a=function(){var e=[];return orderedWeekDays.forEach((function(a){var t=new RegExp("(".concat(a,")\\s([01]?[0-9]|2[0-3]):([0-5][0-9])-([01]?[0-9]|2[0-3]):([0-5][0-9])")),n=s.match(t);if((null==n?void 0:n.length)&&n.length>5){var o={hour:n[2],min:n[3]},r={hour:n[4],min:n[5]},i=jsWeekDays.findIndex((function(e){return e===a})),d=jsWeekDays[i],u=i-todaysWeekDayIndex;"Saturday"===todaysWeekDay&&"Sunday"===d&&(u=1),"Sunday"===todaysWeekDay&&(u=i-7,"Monday"===d&&(u=1),"Sunday"===d&&(u=0));var c=new Date;c.setDate(c.getDate()+u);var y=new Date(c.getTime());y.setHours(parseInt(o.hour),parseInt(o.min),0,0);var l=new Date(c.getTime());if(l.setHours(parseInt(r.hour),parseInt(r.min),0,0),y>l){var f=new Date(l.getTime());f.setHours(0,0,0,0);var D=6e4*(new Date).getTimezoneOffset(),m=l.getTime()-f.getTime();(D<0?m>-1*D:m<D)&&l.setDate(l.getDate()+1),l.getTime()-y.getTime()<0&&l.setDate(l.getDate()+1)}e.push({weekDay:a,isOpen:!0,openingTime:y,closingTime:l})}else e.push({weekDay:a,isOpen:!1})})),e}(),t="CLOSED",n=new Date,a.forEach((function(e){if(e.isOpen){var a=e.openingTime,o=e.closingTime;if(a<=n&&n<o){var s=(o.getTime()-n.getTime())/1e3;s/=60;var r=Math.abs(Math.round(s));t=r<60?"CLOSING_SOON":"OPEN"}else{var i=(n.getTime()-a.getTime())/1e3;i/=60,Math.abs(Math.round(i))<60&&(t="OPENING_SOON")}}})),function(e){"OPEN"===e&&d.forEach((function(e){return e.style.display="flex"})),"CLOSED"===e&&u.forEach((function(e){return e.style.display="flex"})),"CLOSING_SOON"===e&&i.forEach((function(e){return e.style.display="flex"})),"OPENING_SOON"===e&&r.forEach((function(e){return e.style.display="flex"}))}(t)}window.onload=function(){document.querySelectorAll(".single-item[data-location][data-hours]").forEach((function(e){var a=e.dataset.location,t=e.dataset.hours;a&&t&&renderLocationStatus({locationName:a,hours:t})}))};