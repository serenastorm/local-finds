"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var jsWeekDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],orderedWeekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],today=new Date,todaysWeekDayIndex=today.getDay(),todaysWeekDay=jsWeekDays[todaysWeekDayIndex];function renderLocationStatus(e){var t,a,o,n=e.locationName,r=e.hours,s=document.querySelectorAll(".status.opening-soon[data-location='".concat(n,"']")),i=document.querySelectorAll(".status.closing-soon[data-location='".concat(n,"']")),d=document.querySelectorAll(".status.open[data-location='".concat(n,"']")),u=document.querySelectorAll(".status.closed[data-location='".concat(n,"']"));t=function(){var e=[];return orderedWeekDays.forEach((function(t){var a=new RegExp("(".concat(t,")\\s([01]?[0-9]|2[0-3]):([0-5][0-9])-([01]?[0-9]|2[0-3]):([0-5][0-9])")),o=r.match(a);if((null==o?void 0:o.length)&&o.length>5){var n={hour:o[2],min:o[3]},s={hour:o[4],min:o[5]},i=jsWeekDays.findIndex((function(e){return e===t})),d=jsWeekDays[i],u=i-todaysWeekDayIndex;"Saturday"===todaysWeekDay&&"Sunday"===d&&(u=1),"Sunday"===todaysWeekDay&&(u=i-7,"Monday"===d&&(u=1),"Sunday"===d&&(u=0));var c=new Date;c.setDate(c.getDate()+u);var l=new Date(c.getTime());l.setHours(parseInt(n.hour),parseInt(n.min),0,0);var y=new Date(c.getTime());if(y.setHours(parseInt(s.hour),parseInt(s.min),0,0),l>y){var f=new Date(y.getTime());f.setHours(0,0,0,0);var h=6e4*(new Date).getTimezoneOffset(),m=y.getTime()-f.getTime();(h<0?m>-1*h:m<h)&&y.setDate(y.getDate()+1),y.getTime()-l.getTime()<0&&y.setDate(y.getDate()+1)}e.push({weekDay:t,isOpen:!0,openingTime:l,closingTime:y})}else e.push({weekDay:t,isOpen:!1})})),e}(),a="CLOSED",o=new Date,t.forEach((function(e){if(e.isOpen){var t=e.openingTime,n=e.closingTime;if(t<=o&&o<n){var r=(n.getTime()-o.getTime())/1e3;r/=60;var s=Math.abs(Math.round(r));a=s<60?"CLOSING_SOON":"OPEN"}else{var i=(o.getTime()-t.getTime())/1e3;i/=60,Math.abs(Math.round(i))<60&&(a="OPENING_SOON")}}})),function(e){"OPEN"===e&&d.forEach((function(e){return e.style.display="flex"})),"CLOSED"===e&&u.forEach((function(e){return e.style.display="flex"})),"CLOSING_SOON"===e&&i.forEach((function(e){return e.style.display="flex"})),"OPENING_SOON"===e&&s.forEach((function(e){return e.style.display="flex"}))}(a)}window.onload=function(){document.querySelectorAll(".single-item[data-location][data-hours]").forEach((function(e){var t=e.dataset.location,a=e.dataset.hours;t&&a&&renderLocationStatus({locationName:t,hours:a})})),document.querySelectorAll(".list-item[data-location][data-hours]").forEach((function(e){var t=e.dataset.location,a=e.dataset.hours;t&&a&&renderLocationStatus({locationName:t,hours:a})}));var e=new MutationObserver((function(e){for(var t=0,a=e;t<a.length;t++){var o=a[t];if("childList"===o.type)Array.prototype.slice.call(o.addedNodes).forEach((function(e){if("list-wrapper"==e.parentElement.id){var t=e.dataset.location,a=e.dataset.hours;t&&a&&renderLocationStatus({locationName:t,hours:a})}}))}})),t=document.getElementById("list-wrapper");e.observe(t,{childList:!0})};